<div class="example--modal">
	<h1>An example using the tool with a Modal.
	<a class="share-button--animal-crossing js-animal-crossing-button" href="#">
		<img src="../assets/icon/ac-icon.png">
	</a>

	<section class="ac-modal js-ac-modal">
		<a href="#" class="js-ac-modal__close ac-modal__close">&times;</a>
		<canvas id="imageToEncode" class="ac-modal__canvas"></canvas>
		<div class="ac-modal__image-container">
			<img class="js-ac-image ac-modal__image" src="assets/images/skull.jpeg" alt="Image To Crop">
		</div>
		<img id="qrCode" class="ac-modal__qr" alt="QR Code for Animal Crossing New Horizons"/>
	</section>
</div>



<script>
	//This is an example of how to use this tool with a modal and with or without lazyloading.
	const acQrModal = document.querySelector(".js-ac-modal");
	const artworkImage = document.querySelector(".artwork__image");
	const acImage = acQrModal.querySelector(".js-ac-image");

	const acQrClose = acQrModal.querySelector(".js-ac-modal__close");
	let cropToolNotInitialized = true;

	const lazyLoadScript = false;
	//Set This to the location of the animalCrossingify JS file if you want to lazyload the script.
	const pathToScript = "../dist/example/blathers.js"

	let objectData = {
		element: '.js-ac-image',
		title: "Title",
		creator: "Creator",
		island: "Location"
	};

	const openModal = () => {
		document.animalCrossingify(objectData);
		console.log("hello");
		acQrModal.classList.add("is-open");
	};

	const loadACScript = (scriptLocatin) => {
		const acQrToolScript = document.createElement('script');
		acQrToolScript.setAttribute('src', scriptLocation);
		document.head.appendChild(acQrToolScript);

		acQrToolScript.onload = () => {
		  openModal();
		};
	}


	document.querySelector(".js-animal-crossing-button").addEventListener("click", (e)=> {
		e.preventDefault();
		if (cropToolNotInitialized) {
			cropToolNotInitialized = false;
			lazyLoadScript ? loadACScript() : openModal();
		} else {
			acQrModal.classList.toggle("is-open");
		}
	});
</script>
