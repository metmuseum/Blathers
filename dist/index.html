<head><link href="blathers.min.css" rel="stylesheet"></head><a class="share-button--animal-crossing js-animal-crossing-button" href="#"><img src="../assets/icon/ac-icon.png"></a>

<section class="ac-modal js-ac-modal">
	<a href="#" class="js-ac-modal__close ac-modal__close">&times;</a>
	<canvas id="imageToEncode" class="ac-modal__canvas"></canvas>
	<div class="ac-modal__image-container">
			<img class="js-ac-image ac-modal__image" src="" alt="Image To Crop">
	</div>
	<img id="qrCode" class="ac-modal__qr" alt="QR Code for Animal Crossing New Horizons"/>
</section>



<div class="cell the-artwork gtm__TGACTEST01">
	<div id="the-artwork__inset" class="the-artwork__inset">
		<figure itemType="http://schema.org/ImageObject" class="artwork">
			<div id="artwork__image__wrapper" class="artwork__image__wrapper">
				<img id="artwork__image" class="artwork__image" src="assets/images/skull.jpeg"" alt="" itemprop="contentUrl">
			</div>
		</figure>
	</div>
</div>

<script>
	const acQrModal = document.querySelector(".js-ac-modal");
	const artworkImage = document.querySelector(".artwork__image");
	const acImage = acQrModal.querySelector(".js-ac-image");

	const acQrClose = acQrModal.querySelector(".js-ac-modal__close");
	let cropToolNotInitialized = true;

	let objectData = {
		element: '.js-ac-image'
	};

	document.querySelector(".js-animal-crossing-button").addEventListener("click", (e)=> {
		e.preventDefault();

		objectData.title="TODO: David PLZ";
		objectData.creator = "TODO: DAVID";
		objectData.island = "ALSO: DAVID";

		if (cropToolNotInitialized) {
			acImage.src = artworkImage.src;
			document.animalCrossingify(objectData);
			cropToolNotInitialized = false;
		}

		acQrModal.classList.toggle("is-open");
	});

	acQrClose.addEventListener("click", (e) => {
		e.preventDefault();
		acQrModal.classList.remove("is-open");
	})
</script>
<script type="text/javascript" src="blathers.min.js"></script>